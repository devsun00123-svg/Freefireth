<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™à¸—à¸µà¸¡ Free Fire</title>
  <style>
    body { font-family: Arial, Helvetica, sans-serif; padding: 16px; max-width:700px; margin:auto; }
    label {display:block; margin-top:10px;}
    input, textarea { width:100%; padding:8px; margin-top:4px; box-sizing:border-box; }
    .player { display:flex; gap:8px; margin-top:5px; }
    .player input { flex:1; }
    button { margin-top:12px; padding:10px 16px; }
    .msg { margin-top:10px; }
  </style>
</head>
<body>
  <h1>à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™à¸—à¸µà¸¡ Free Fire</h1>
  <form id="regForm">
    <label>à¸Šà¸·à¹ˆà¸­à¸—à¸µà¸¡
      <input name="teamName" required />
    </label>

    <h3>à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™ (5 à¸„à¸™)</h3>
    <div class="player">
      <input name="p0_name" placeholder="à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™ 1 à¸Šà¸·à¹ˆà¸­" required />
      <input name="p0_ffid" placeholder="FF ID" />
    </div>
    <div class="player">
      <input name="p1_name" placeholder="à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™ 2 à¸Šà¸·à¹ˆà¸­" required />
      <input name="p1_ffid" placeholder="FF ID" />
    </div>
    <div class="player">
      <input name="p2_name" placeholder="à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™ 3 à¸Šà¸·à¹ˆà¸­" required />
      <input name="p2_ffid" placeholder="FF ID" />
    </div>
    <div class="player">
      <input name="p3_name" placeholder="à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™ 4 à¸Šà¸·à¹ˆà¸­" required />
      <input name="p3_ffid" placeholder="FF ID" />
    </div>
    <div class="player">
      <input name="p4_name" placeholder="à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™ 5 à¸Šà¸·à¹ˆà¸­" required />
      <input name="p4_ffid" placeholder="FF ID" />
    </div>

    <label>à¸Šà¹ˆà¸­à¸‡à¸—à¸²à¸‡à¸•à¸´à¸”à¸•à¹ˆà¸­ (à¹€à¸šà¸­à¸£à¹Œ/à¹„à¸¥à¸™à¹Œ)
      <input name="contact" />
    </label>

    <label>à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸
      <textarea name="notes" rows="3"></textarea>
    </label>

    <button type="submit">à¸ªà¹ˆà¸‡à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™</button>
    <div class="msg" id="msg"></div>
  </form>

  <script>
    const WEBHOOK_URL = "https://discord.com/api/webhooks/1413144389299212319/J_yAL8REvMztS7DULDYrRE33TxJkQvLQA-eY0_olgTcQY3RHQZmN2D1qVjdLNR8J1CJo";

    document.getElementById('regForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const f = new FormData(e.target);
      const players = [];
      for (let i=0;i<5;i++){
        players.push(`- ${f.get('p'+i+'_name')} (${f.get('p'+i+'_ffid') || '-'})`);
      }

      const content =
        `**à¸—à¸µà¸¡:** ${f.get('teamName')}\n` +
        `**à¸œà¸¹à¹‰à¹€à¸¥à¹ˆà¸™:**\n${players.join("\n")}\n` +
        `**à¸•à¸´à¸”à¸•à¹ˆà¸­:** ${f.get('contact') || '-'}\n` +
        `**à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸:** ${f.get('notes') || '-'}`;

      document.getElementById('msg').textContent = "à¸à¸³à¸¥à¸±à¸‡à¸ªà¹ˆà¸‡...";

      try {
        const r = await fetch(WEBHOOK_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ content })
        });
        if (r.ok) {
          document.getElementById('msg').textContent = "à¸ªà¹ˆà¸‡à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢ ðŸŽ‰";
          e.target.reset();
        } else {
          document.getElementById('msg').textContent = "à¸ªà¹ˆà¸‡à¹„à¸¡à¹ˆà¸ªà¸³à¹€à¸£à¹‡à¸ˆ âŒ";
        }
      } catch (err) {
        document.getElementById('msg').textContent = "à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸” âŒ";
        console.error(err);
      }
    });
  </script>
</body>
</html>
